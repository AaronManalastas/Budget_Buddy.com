<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard</title>
  <style>

    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', sans-serif;
  }

  body {
    margin: 0;
    background-color: black;
    color: white;
  }

  .navbar {
    background-color: #e75e1c;
    padding: 10px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: fixed; /* Make it fixed */
    top: 0;
    width: 100%;
    z-index: 1000; /* Ensure it stays above content */
  }

  .nav-left {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
    margin-left: 20px;
  }

  .nav-left a, .nav-left span.logo {
    color: #ecf0f1;
    text-decoration: none;
    font-weight: bold;
  }

  .nav-left a:hover {
    text-decoration: underline;
  }

  .nav-left span.logo {
    font-size: 1.2em;
  }

  .nav-right {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-right: 20px;
  }

  .profile-circle {
    background-color: white;
    color: #e75e1c;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1em;
  }

  .container {
    max-width: 900px;
    margin: 0 auto;
    padding: 120px 30px 30px; /* Padding-top increased to push content below fixed navbar */
    background-color: black;
  }

    .search-add {
      display: flex;
      gap: 10px;
    }

    .search-add input, .search-add button {
      padding: 8px;
      border: none;
      border-radius: 5px;
    }

    .search-add input {
      width: 200px;
    }

    .search-add button {
      background-color: white;
      color: #e75e1c;
      font-weight: bold;
      cursor: pointer;
    }

    #formPage, #detailsPage {
      background-color: #111;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      min-height: 100%;
      z-index: 10;
      display: none;
      padding: 20px;
    }

    .back-button {
      background-color: #e75e1c;
      border: none;
      color: white;
      padding: 10px;
      margin-bottom: 20px;
      cursor: pointer;
      font-weight: bold;
      border-radius: 4px;
    }

    .container {
      max-width: 900px;
      margin: auto;
      padding: 30px;
      background-color: black;
    }

    h2 {
      color: #fff;
    }

    .dashboard-section {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      margin-top: 30px;
    }

    .card {
      background-color: black;
      border: 1px solid #444;
      border-radius: 10px;
      padding: 20px;
    }

    .card h3 {
      margin-top: 0;
    }

    .notification-item {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      padding: 15px 0;
      border-bottom: 1px solid #333;
    }

    .notification-item:last-child {
      border-bottom: none;
    }

    .notification-icon {
      font-size: 24px;
      flex-shrink: 0;
    }

    .notification-content {
      flex: 1;
    }

    .notification-title {
      font-weight: bold;
      margin: 0 0 5px;
    }

    .notification-time {
      font-size: 0.85em;
      color: #aaa;
    }

    #budget-overview {
      background-color: #121212;
      border: 1px solid #2a2a2a;
      border-radius: 10px;
      padding: 20px 25px;
      color: #fff;
      background-color: black;
    }

    #budget-overview h3 {
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: #fff;
    }

    .budget-stats {
      display: flex;
      justify-content: space-between;
      margin-bottom: 5px;
    }

    .budget-column {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .budget-column small {
      color: #aaa;
      font-size: 0.75rem;
    }

    .budget-amount {
      font-size: 1.3rem;
      font-weight: bold;
    }

    .progress-container {
      position: relative;
      height: 10px;
      background-color: #2a2a2a;
      border-radius: 10px;
      overflow: hidden;
      margin-top: 10px;
    }

    .progress-fill {
      height: 100%;
      background-color: #e65100;
      transition: width 0.5s ease-in-out;
    }

    .progress-info {
      font-size: 0.75rem;
      margin-top: 5px;
      display: flex;
      justify-content: space-between;
      color: #aaa;
    }
  </style>
</head>
<body>
   <!-- NAVBAR + HEADER COMBINED -->
<nav class="navbar">
  <div class="nav-left">
    <span class="logo">‚úàÔ∏è Budget Buddy</span>
    <a href="index.html">üöÄWelcome to TraveLogix!</a>
    <a href="trip-itinerary.html">üß≥Trip Itinerary</a>
    <a href="transportation-guide.html">üåêTransportation Guide</a>
    <a href="expence-tracker.html">üí∞Expense Tracker</a>
    <a href="dashboard.html">üë§Dashboard</a>
  </div>
  <div class="nav-right">   
    <div class="profile-circle">B</div>
  </div>
</nav>

  <<!-- Logo and Web Name Section -->
<div style="text-align: center; margin-top: 30px;">
  <img src="logo.png" alt="TraveLogix Logo" style="width: 100px; height: 100px; border-radius: 50%; margin-top: 30px;">
  <h1 style="margin: 10px 0 0; font-size: 1.5rem;">Budget Buddy</h1>
  <small>Your student-friendly travel planner for exploring Lipa, Batangas on a budget.</small>
</div>



  <div class="container">
    <h2>Dashboard Overview</h2>

    <div class="dashboard-section">
      <div class="card" id="notifications">
        <h3>Notifications</h3>
      </div>

      <div class="card" id="budget-overview">
        <h3>Total Budget Overview</h3>
        <div class="budget-stats">
          <div class="budget-column">
            <small>Budget Allocated</small>
            <div class="budget-amount" id="budgetAllocated">‚Ç±0</div>
          </div>
          <div class="budget-column">
            <small>Spent So Far</small>
            <div class="budget-amount" id="spentSoFar">‚Ç±0</div>
          </div>
        </div>
        <div class="progress-info">
          <span id="progressText">0% utilized</span>
          <span id="remainingBudget" style="color: white;">‚Ç±0 remaining</span>
        </div>
        <div class="progress-container">
          <div class="progress-fill" id="progressFill"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const prefs = JSON.parse(localStorage.getItem('travelPreferences'));
    const progressFill = document.getElementById('progressFill');
    const notificationsContainer = document.getElementById('notifications');

    const budgetAllocatedEl = document.getElementById('budgetAllocated');
    const spentSoFarEl = document.getElementById('spentSoFar');
    const remainingEl = document.getElementById('remainingBudget');
    const progressTextEl = document.getElementById('progressText');

    function createNotification(icon, title, message, time) {
      return `
        <div class="notification-item">
          <div class="notification-icon">${icon}</div>
          <div class="notification-content">
            <p class="notification-title">${title}</p>
            <p>${message}</p>
            <p class="notification-time">${time}</p>
          </div>
        </div>
      `;
    }

    notificationsContainer.innerHTML = `<h3>Notifications</h3>`;

    if (prefs) {
      const destination = prefs.destinations?.[0] || "your selected location";
      notificationsContainer.innerHTML += createNotification(
        "üöå",
        "Bus Schedule Change",
        `Your bus to ${destination} has been rescheduled to 11:30 AM. Please check your email for more info.`,
        "2 hours ago"
      );

      if (prefs.budget) {
        let budgetAllocated = 0;
        if (prefs.budget.includes("Low")) {
          budgetAllocated = 1500;
        } else if (prefs.budget.includes("Medium")) {
          budgetAllocated = 3000;
        } else if (prefs.budget.includes("High")) {
          budgetAllocated = 3000;
        }

        let style = prefs.style?.toLowerCase() || "moderate";
        let percentUsed = 0.7;
        if (style.includes("budget")) percentUsed = 0.5;
        else if (style.includes("luxury")) percentUsed = 0.9;

        const spent = Math.floor(budgetAllocated * percentUsed);
        const remaining = budgetAllocated - spent;

        budgetAllocatedEl.textContent = `‚Ç±${budgetAllocated.toLocaleString()}`;
        spentSoFarEl.textContent = `‚Ç±${spent.toLocaleString()}`;
        remainingEl.textContent = `‚Ç±${remaining.toLocaleString()} remaining`;
        progressTextEl.textContent = `${Math.round(percentUsed * 100)}% utilized`;
        progressFill.style.width = `${percentUsed * 100}%`;

        notificationsContainer.innerHTML += createNotification(
          "üí∏",
          "Budget Warning",
          `You've used ${Math.round(percentUsed * 100)}% of your ${prefs.budget.toLowerCase()} travel budget based on your ${style} travel style.`,
          "Yesterday"
        );
      }

      const interest = prefs.interests?.[0] || "local events";
      notificationsContainer.innerHTML += createNotification(
        "üè®",
        "Hotel Reservation Confirmed",
        `Your hotel reservation near popular ${interest} spots in ${destination} has been confirmed for May 15th.`,
        "2 days ago"
      );

      if (prefs.style) {
        notificationsContainer.innerHTML += createNotification(
          "üåü",
          "Travel Tip for Your Style",
          `As a ${prefs.style.toLowerCase()} traveler, we recommend checking out personalized tours in ${destination}.`,
          "Just now"
        );
      }
    } else {
      notificationsContainer.innerHTML += createNotification(
        "‚ÑπÔ∏è",
        "No Preferences Found",
        "Please set your travel preferences to receive personalized notifications.",
        "Now"
      );
    }
  </script>
</body>
</html>
